// Bootstrap overrides
//
// Copy variables from `_variables.scss` to this file to override default values
// without modifying source files.

$sky-blue: #3b69be;
$sky-blue-light: lighten($sky-blue, 20%);

$body-bg:    #fff;
$body-color: $gray-dark;


// utilities
// ********************
@mixin highlight {
	background-color: rgba(109, 28, 233, 0.2);
}
.highlight {
    @include highlight;
}

$shadow-enabled: false;
@mixin shadow-light-allsides {
	@if $shadow-enabled {
		border: none;
		box-shadow: 0 0 .4rem 0 rgba(0, 0, 0, 0.1);		
	} @else {
		box-shadow: none;
		border: 1px solid rgba(0, 0, 0, 0.1);
	}
}
@mixin shadow-light-righttop {
	box-shadow: 10px -10px 10px -10px rgba(0, 0, 0, 0.1);
}
@mixin shadow-normal-bottom {
	box-shadow: 0 10px 10px -10px rgba(0, 0, 0, 0.2);
}
// end utilities

// overwrites and additons to bootstrap
.sticky-top {
	position: -webkit-sticky; 
}


.screen_reader_text {
	clip: rect(1px, 1px, 1px, 1px);
	height: 1px;
	overflow: hidden;
	position: absolute !important;
	width: 1px;
	word-wrap: normal !important; /* Many screen reader and browser combinations announce broken words as they would appear visually. */
}

.discreet {
    color: #777777;
    font-weight: 300;
}
.portalMessage.error {
    color: orange;
    border: 1px solid orange;
    padding: .5rem.8rem 0rem.8rem;
}
a[class^="icon-"], a[class*=" icon-"] {
	text-decoration: none;
	line-height: 1.5;
}
span.required:before {
	content: "*";
	color: orange;
};
pre {
	white-space: pre-wrap;
}
p.callout {
    background: lighten($link-color, 25%);
    padding: 1em;
    border-left: 1em solid $link-color;
    clear: both;
	border-radius: 4px;
}
code, pre {
    padding: 0.2rem 0.4rem;
    font-size: 90%;
    color: #bd4147;
    background-color: #f7f7f9;
    border-radius: 0.25rem;
}
// Images in body
.image-left{float:left;margin:.5em 1em .5em 0}
.image-right{float:right;margin:.5em}
.image-inline{float:none}

.image-tile {float: right;}
.documentPublished {
	font-size: 80%;
}

.entries::before, #content article.entry::after, #relatedItemBox ul li::after, #searchresults ul li::after {
    content: " ";
    display: block;
    clear: both;
    height: 2px;
    visibility: hidden;
}

// *** Header
.site_header {
    background-color: $body-bg;
	display: none;
}
.custom_header {
//	height: 20vh;
	max-height: 100%;
	overflow: hidden;
}
.custom_header_media {
	img {
		position: fixed;
		width: 100%;
		height: 100%;
		object-fit: cover;
	}
}
// end header

// *
// site branding
$height-header: 5.5rem;
.site_branding {
	color: $body-bg;
	background-color: transparent;
	height: auto; //$height-header;
	@include shadow-normal-bottom;
	.custom_header_media_inside {
		overflow: hidden;
		margin: -1rem;
//		height: $height-header;
		z-index: 0;
		img {
			width: 100vw;
			height: $height-header;
			object-fit: cover;
//			object-position: 0rem -12rem;
		}
	}
	.site_branding_inner {
		position: absolute;
//		-webkit-transition: all 500s;
//		-moz-transition: all 500s;
//		transition: all 500ms;
		#portal-logo {
			//		position: sticky;
			//		position: -webkit-sticky;
		padding-right: 1rem;
		}
		.front_page {
			display: none;
		}
		.front_page, 
		.content_page {
//			-webkit-transition: all 500s;
//			-moz-transition: all 500s;
//			transition: all 500ms;
		}
		a {
			color: lighten($link-color, 25%);
			font-weight: bold;
		}
	}
	p {
		margin: 0;
	}
}


#global_navi {
	background-color: transparent;
	padding: 0;
	min-width: 12rem;
	.navbar-toggler {
		border: none;
		padding: 0;
		.navbar-toggler-icon {
			background-image: none;
		}
	}
	div.navbar-collapse {
		ul {
			a {
				padding-right: 1rem;
			}
		}
	}
}


// Front-page
body.section-front-page {
	#global_navi {
		display: none;
	}
	#overview header {
		display: none;
	}
	.site_header {
		display: block;
		color: $body-bg;
		.custom_header {
			height: 100vh;
			.front_page {
				display: block;
				position: absolute;
				bottom: 5rem;
				cursor: pointer;
			}
		}
	}


	.site_branding { // front-page
//		margin-top: -11rem;
		color: $body-bg;
		background-color: transparent;
		border-bottom: none;
		box-shadow: none;
//		transition: background-color .2s ease-in-out .2s, color .2s ease-in-out .2s, box-shadow .2s ease-in-out .2s, border .2s ease-in-out .2s;
		transition: background-color .2s ease-in-out, color .2s ease-in-out, box-shadow .2s ease-in-out, border .2s ease-in-out;
		#portal-logo {
			display: none;
		}
		.site_branding_inner {
			position: relative;
		}
		.content_page {
			opacity: 0;
		}	
		&.site_branding_scrolled {
			color: $body-color;
			background-color: $body-bg;
//			border-bottom: 1px solid $gray-light;
			@include shadow-normal-bottom;
			#portal-logo {
				display: block;
				a.invert img {
					filter: invert(100%);
				}
			}
			.site_branding_inner {
				a {
					color: $link-color;
				}
			}
			.front_page {
			}
			.content_page {
				opacity: 1;
			}
		}
		.custom_header_media_inside { // nur .content_page
			display: none;
		}
	}
	.content_head, // Title and description
	{
		display: none !important;
	}
}

#languageselector {
//	position: absolute;
//	top: 3rem;
//	right: 2rem;
//	z-index: 1;
	color: #fff;
	list-style-type: none;
	ul {
		margin-bottom: 0;
		li {
			display: inline;
			&.currentLanguage a {
				color: $link-hover-color;
			}
		}
	}
}


// byline etc
#viewlet-below-content-title {
	display: none;
	margin-bottom: 1rem;
}

// sections
#intro,
#overview,
#details,
#footer {
	position: relative;
	background-color: #fff;	
	.section_inner {
		width: 1140px;
		max-width: 100%;
		margin-left: auto;
		margin-right: auto;
	}
}
#intro {
	box-shadow: 0rem -2rem 5rem 5rem white;
//	box-shadow: 0rem -2rem 5rem 5rem white;
	padding-bottom: 3rem;
	padding-top: 2rem;
}
#overview {
	article#content {
		& > header,
		#parent-fieldname-text {
			margin-bottom: 3rem;
		}
	}
}
#details {
	#viewlet-below-content-title {
		display: none;
	}
}
#footer {
	border-top: 1px solid $gray-light;
	ul {
		padding-left: 0;
		li {
			display: inline;
			padding-right: 1rem;
		}
	}
	span.discreet {
		font-size: 75%;
	}
}

// Blog

article.tileItem {
	margin-bottom: 3rem;
	.tileHeadline {
//		&:before {
//			@include icon-mixin;
//			content: "";
//		};
	.anchorjs-link {
		display: none;
	}
	}
	.tileBody {
	}
	.tilePost {
		margin-top: 2rem;
		img {
			max-width: 100%;
		}
	}
}

// Blog Posts


body.section-blog,
body.subsection-blog {
	#viewlet-below-content-title {
		display: block;
	}
}

body.portaltype-easyform form {
	.field {
		margin-top: 1rem;
		input[type="text"],
		textarea {
			max-width: 30rem;
			width: 100%;
		}		
	}
	div.formControls { // buttons
		margin-top: 1rem;
	}
	.fieldErrorBox {
		color: orange;
	}
	#formEpilogue {
		margin-top: 1rem;
	}
}

.newsImageContainer {
    float: right;
    margin: 0 0 6px 6px;
    border-radius: 4px;
	@include shadow-light-allsides;
    overflow: hidden;
	figcaption {
		padding-left: .5rem;
	}
}

// Shariff
.shariff {
	.orientation-horizontal {
		flex-wrap: nowrap;
	}
	.theme-white .shariff-button {
		border: none;
		a {
			color: grey !important; // overwrites brand colors
		}
	}
	.orientation-horizontal li {
		min-width: 0;
		max-width: 3rem;
		.share_text {
				display: none;
			}
	}
	a:hover {
		background-color: white !important;
	};
}

// Cards
.card {
	margin-bottom: 1rem;
	@include shadow-light-allsides;
	.card-footer {
		background-color: transparent;
		border: none;
	}
	.card-title {
		&:before {
			content: "_";
		}
		a {
			text-decoration: none;
		}
	}
	.card-text {
		.tile {
			display: block;
			margin-bottom: .5rem;
			.portletItemDetails {
				display: block;
			}
		}
	}
}


// ueberschreiben:
@include media-breakpoint-up(sm) {
//	p {color: red;}
  .card-deck {
    flex-flow: row wrap;

    .card {
      flex: 1 0 auto;

      // Selectively apply horizontal margins to cards to avoid doing the
      // negative margin dance like our grid. This differs from the grid
      // due to the use of margins as gutters instead of padding.
      &:not(:first-child) { margin-left: 0 }
      &:not(:last-child) { margin-right: 0 }
    }
  }
}
// same as original media-breakpoint-up(sm)
@include media-breakpoint-up(md) {
// p {color: orange;}
  .card-deck {
    display: flex;
    flex-flow: row wrap;

    .card {
      display: flex;
      flex: 1 0 0;
      flex-direction: column;

      // Selectively apply horizontal margins to cards to avoid doing the
      // negative margin dance like our grid. This differs from the grid
      // due to the use of margins as gutters instead of padding.
      &:not(:first-child) { margin-left: $card-deck-margin; }
      &:not(:last-child) { margin-right: $card-deck-margin; }
    }
  }
}
//@include media-breakpoint-up(lg) {
//	p {color: yellow;}
//}


.card-columns {
	hyphens: auto;

	@include media-breakpoint-only(sm) {
		column-count: 2;
	}
	@include media-breakpoint-only(md) {
		column-count: 2;
	}
	@include media-breakpoint-only(lg) {
        -webkit-column-count: 3;
        -moz-column-count: 3;
        column-count: 3;
	}
	@include media-breakpoint-only(xl) {
//		column-count: 4;
	}
	.card {
		img.card-img-top {	
		}
	}
	.documentAuthor {
		display: none;
	}
	nav#category {
		display: block;
	}
}


// end cards


#content-core {
	p img { // .img-fluid
		max-width: 100%;
		height: auto;
		border-radius: 4px;
		@include shadow-light-allsides;
	}
	.card p img { // no shadow inside cards
		box-shadow: none;
	}
}
nav#category {
	display: flex;
	hyphens: none;
	#categories-filed-under {
		padding-right: 2rem;
		display: none;
	}
	ul {
		padding-left: 0;
		list-style-type: none;
		li {
			display: inline;
			padding-right: .7rem;
			a.link-category {
				@include button-variant($body-bg, $link-color, transparent);
				@include button-size($btn-padding-y-sm, $btn-padding-x-sm, $font-size-sm, $btn-border-radius-sm);
			}
		}
	}

}
.pagination {
	ul {
		padding-left: 0;
		list-style-type: none;
		li {
			display: inline;
			padding-right: 5rem;
			white-space: nowrap;

			&.previous a:before {
				content: "<  ";
			}
			&.next a:after {
				content: "  >";			
			}
		}
	}
}

#searchform {
	.input-group, 
	.actionMenu,
	#rss-subscription {
		display: none;
	}
	#search-results-bar {
		font-size: 115%;
	}
	#search-results {
		margin-top: 2rem;
		li {
			margin-bottom: 2rem;
			p {
				margin-bottom: .5rem;
			}
			.documentLocation, .link-location {
				font-size: 80%;
			}
			.croppedDescription {
				color: $body-color;
			}
			cite {
				font-style: inherit;
			}
			.documentAuthor,
			.documentModified {
				display: none;
			}
		}
	}
}

body.portaltype-folder, 
body.portaltype-collection {
//	.documentPublished,
	#viewlet-below-content { // categories of collection and pagination to posts
		display: none;
	}
} 
.shareable .documentPublished {
		display: block;
	}

#col2cont {
	padding-right: 0px;
	aside {
		font-size: .9rem;
		@include shadow-light-allsides;
		border: none;
		padding: .8rem .5rem;
		img {
			max-width: 100%;
			height: auto;
			border-radius: 4px;
			@include shadow-light-allsides;
		}
	}
}


#hyper {
	height: 0;
	overflow: hidden;
}



// DEBUG debug-class
@mixin debug  {
	font-family: Courier;
	color: lightgrey;
}
.debug {
	@include debug;
}